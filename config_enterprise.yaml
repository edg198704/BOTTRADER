# Main Configuration for the Enterprise Trading Bot

initial_capital: 10000.0

exchange:
  name: "MockExchange"  # Exchange name (e.g., 'binance', 'bybit'). Use 'MockExchange' for testing.
  testnet: true         # Use the exchange's testnet/sandbox environment
  retry:
    max_attempts: 3
    delay_seconds: 2    # Initial delay for retries
    backoff_factor: 2   # Multiplier for subsequent delays (e.g., 2s, 4s, 8s)

execution:
  default_order_type: "LIMIT" # Can be 'MARKET' or 'LIMIT'. LIMIT is recommended to reduce slippage.
  limit_price_offset_pct: 0.0005 # 0.05% offset from current price for placing limit orders.
  order_fill_timeout_seconds: 45 # How long to wait for a fill before cancelling.

data_handler:
  history_limit: 200 # Number of historical candles to load at startup
  update_interval_multiplier: 0.5 # Update data every (strategy.interval_seconds * 0.5) seconds

strategy:
  name: "AIEnsembleStrategy" # Strategy to use ('AIEnsembleStrategy' or 'SimpleMACrossoverStrategy')
  symbols: ["BTC/USDT", "ETH/USDT"] # List of symbols to trade
  interval_seconds: 10      # Time in seconds between each trading cycle check.
  timeframe: "5m"           # Timeframe for OHLCV data (e.g., '1m', '5m', '1h', '1d')

  # Settings for AIEnsembleStrategy
  ai_ensemble:
    feature_columns: ['close', 'rsi', 'macd', 'volume', 'bb_upper', 'bb_lower']
    confidence_threshold: 0.65
    model_path: "models/ensemble"
    use_regime_filter: true
    retrain_interval_hours: 24
    training_epochs: 10

  # Settings for SimpleMACrossoverStrategy
  simple_ma:
    fast_ma_period: 10
    slow_ma_period: 20

risk_management:
  max_position_size_usd: 1000.0
  max_daily_loss_usd: 500.0
  max_open_positions: 5 # Increased to allow for multi-symbol trading
  circuit_breaker_threshold: -0.10 # Halt trading if portfolio drops 10%
  use_trailing_stop: true
  atr_stop_multiplier: 2.0
  stop_loss_fallback_pct: 0.05
  risk_per_trade_pct: 0.01
  reward_to_risk_ratio: 1.5
  trailing_stop_activation_pct: 0.02 # Activate TSL after 2% profit
  trailing_stop_pct: 0.01 # Trail by 1% of peak price

  regime_based_risk:
    # Override default risk parameters based on the detected market regime.
    # If a parameter is not set here, the default value above will be used.
    bull:
      risk_per_trade_pct: 0.015 # Take slightly more risk in a clear bull trend
      atr_stop_multiplier: 2.5   # Allow more room for pullbacks
    bear:
      reward_to_risk_ratio: 2.0  # Demand higher reward for shorting
    volatile:
      risk_per_trade_pct: 0.005 # Reduce position size significantly
      atr_stop_multiplier: 3.0   # Use wider stops to avoid getting shaken out
    sideways:
      # No overrides, will use default risk parameters.
      # Could also set risk_per_trade_pct to 0 to avoid trading.

database:
  path: "position_ledger.db"

telegram:
  admin_chat_ids:
    - 123456789 # Replace with your Telegram admin chat ID

logging:
  level: "INFO"
  file_path: "logs/trading_bot.log"
  use_json: false
